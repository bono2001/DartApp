@model DartApp.Models.Game301ViewModel

<h1>301 Game</h1>
<p>Speler: @Model.PlayerName</p>
<p>Huidige score: <span id="current-score">@Model.CurrentScore</span></p>

<div class="dartboard-container">
    <img src="/img/Dartboard.png" alt="Dartbord" usemap="#dartboard-map" class="dartboard">

    <map name="dartboard-map">
        <area shape="circle" coords="150,150,20" alt="Bullseye" onclick="throwDart(50)">
        <area shape="circle" coords="150,150,50" alt="Inner Bull" onclick="throwDart(25)">
        <area shape="poly" coords="150,0,170,40,130,40" alt="20" onclick="throwDart(20)">
        <area shape="poly" coords="150,300,170,260,130,260" alt="3" onclick="throwDart(3)">
    </map>
</div>

<script>
    function throwDart(score) {
        fetch('/Games/UpdateScore', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ score: score })
        })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('current-score').innerText = data.newScore;
                } else {
                    alert(data.message);
                }
            });
    }
</script>

<style>
    .dartboard-container {
        text-align: center;
        margin: 20px 0;
    }

    .dartboard {
        max-width: 300px;
        border: 2px solid #000;
    }
</style>
